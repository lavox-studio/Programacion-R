---
title: "R para Ingenier칤as y Ciencias"
author: "La Academia"
subtitle: "Tema 16 - Teor칤a"
output:
  html_document:
    df_print: paged
---

# Importaci칩n y exportaci칩n de datos

En el trabajo con datos reales dentro de la ingenier칤a, es com칰n que los conjuntos de datos provengan de fuentes externas o necesiten compartirse. Por ello, es fundamental aprender a **importar datos (leer archivos)** desde fuentes como archivos CSV, TXT, Excel, entre otros, y **exportar datos (guardar archivos)** desde **R** hacia esos mismos formatos.

Este proceso permite la interoperabilidad entre **R** y otras herramientas utilizadas frecuentemente por ingenieros, como hojas de c치lculo, software de simulaci칩n o bases de datos.

| Tipo de archivo | Ejemplos           | Formato en R         |
|-----------------|--------------------|----------------------|
| Texto plano     | `.csv`, `.txt`     | `data.frame`         |
| Excel           | `.xls`, `.xlsx`    | `data.frame`         |
| R interno       | `.RData`, `.rds`   | objetos de R         |
| Otros           | `.json`, bases SQL | estructuras variadas |

> **Importar un archivo en R** es como **conectar un sensor de medici칩n externa a tu sistema de monitoreo**: est치s trayendo informaci칩n externa para trabajar con ella en tu entorno.
>
> **Exportar un archivo desde R** es como **enviar los resultados de una simulaci칩n a un informe t칠cnico o a otro sistema de an치lisis**.

------------------------------------------------------------------------

## Importar datos

Antes de empezar, se debe considerar lo siguiente al realizar la importaci칩n de datos:

-   Siempre verifica la **ruta del archivo**: si el archivo no est치 en el directorio actual de trabajo, deber치s especificar la ruta completa. **Sin embargo, se recomienda siempre tener el archivo en el directorio actual de trabajo.**

### Archivo con valores separados con comas (.csv)

Uno de los m칠todos m치s comunes para introducir datos en **R** es mediante la **importaci칩n de archivos CSV** (Comma-Separated Values). Un archivo CSV almacena informaci칩n en formato de texto, donde los valores de cada fila est치n separados por comas.

La funci칩n m치s usada para importar este tipo de archivos en **R** es `read.csv()`.

``` r
# Sintaxis
nombre_objeto <- read.csv(file = "ruta/archivo.csv")
```

-   **`file`**: Ruta y nombre del archivo CSV a importar.

-   Se puede usar rutas relativas (dentro del directorio de trabajo) o rutas absolutas (completas desde la ra칤z del sistema).

-   Otros argumentos opcionales permiten controlar aspectos como el tipo de separador, encabezados, codificaci칩n, etc.

```{r}
# Ingresa tu c칩digo aqu칤 游놓
```

Algunas consideraciones importantes son las siguientes:

-   R asume que los valores est치n **separados por comas** (`,`). Si tu CSV usa otro separador, como punto y coma (`;`), se debe usar `read.csv2()`.

-   Si el archivo no se encuentra en el directorio actual, debes indicar su **ruta completa**.

-   Los nombres de las columnas se ajustan autom치ticamente si contienen espacios o caracteres no v치lidos.

### Archivo de texto (.txt)

Los archivos de texto plano (.txt) son un formato com칰n para almacenar datos de manera simple, especialmente en aplicaciones de ingenier칤a donde los reportes o registros autom치ticos se generan de esta forma.

Un archivo `.txt` puede contener datos tabulados separados por espacios, tabuladores, comas u otros caracteres.

En **R**, para importar datos desde archivos `.txt` usamos principalmente la funci칩n `read.table()`. Esta funci칩n es **m치s general** que `read.csv()`, ya que permite especificar de manera flexible el separador que delimita los datos.

``` r
# Sintaxis
nombre_objeto <- read.table(file = "ruta/archivo.txt", sep = "separador", header = TRUE)
```

-   **`file`**: Ruta y nombre del archivo `.txt` a importar.

-   **`sep`**: Car치cter que separa los valores. Puede ser espacio `" "`, tabulador `"\t"`, coma `","`, etc.

-   **`header`**: Indica si la primera fila contiene los nombres de las columnas (`TRUE`) o no (`FALSE`).

```{r}
# Ingresa tu c칩digo aqu칤 游놓
```

Algunas consideraciones importantes son las siguientes:

-   Si el separador no se especifica correctamente, los datos pueden importarse mal (por ejemplo, todo en una sola columna).

-   Para archivos muy grandes, existen funciones optimizadas en otros paquetes como `readr` (`read_delim()`), pero aqu칤 nos enfocamos en el m칠todo base.

### Archivo Excel (.xlsx)

Adem치s de archivos de texto o CSV, en ingenier칤a es muy com칰n recibir y trabajar datos en archivos de **Excel** (`.xls` o `.xlsx`). Estos archivos pueden contener m칰ltiples hojas (pesta침as), celdas con formatos especiales o incluso f칩rmulas.

Para importar datos desde archivos Excel en R, se utilizan funciones de paquetes especializados, ya que **R base** no tiene funciones nativas para leer Excel.

Uno de los paquetes m치s utilizados y eficientes es **`readxl`**. La funci칩n principal que utilizamos es `read_excel()`.

``` r
# Instalaci칩n y carga del paquete
install.packages("readxl")
library(readxl)
```

``` r
# Sitanxis
nombre_objeto <- read_excel(path = "ruta/archivo.xlsx", sheet = "nombre_hoja")
```

-   **`path`**: Ruta y nombre del archivo Excel.

-   **`sheet`**: (Opcional) Nombre o n칰mero de la hoja a importar. Si no se especifica `sheet`, por defecto importa la primera hoja.

```{r}
# Ingresa tu c칩digo aqu칤 游놓
```

Algunas consideraciones importantes son las siguientes:

-   `read_excel()` **no ejecuta f칩rmulas** que pueda tener el archivo; importa el 칰ltimo valor guardado.

-   La funci칩n puede leer tanto archivos `.xls` como `.xlsx` sin cambios adicionales.

-   Si el archivo tiene celdas combinadas o vac칤as, deber치s limpiar los datos despu칠s de importarlos.

------------------------------------------------------------------------

## Trabajar con datos importados

Una vez importados los datos, el siguiente paso es trabajar con ellos. Los procesos o c치lculos depender치n de tu necesidad. Por lo tanto, aqu칤 se requiere el dominio de todo lo aprendido previamente, especialmebnte del tema de **data frames**.

### Ejemplo 1

Cargar el archivo `Tema16_Auxiliar_screen_time.txt` y analiza su informaci칩n. 쯈u칠 c치lculos y conclusiones se podr칤an obtener a partir de su informaci칩n?

> [**Nota:**]{.underline} Recuerda utilizar el enfoque EPS.

### Soluci칩n

```{r}
# Ingresa tu c칩digo aqu칤 游놓
```

------------------------------------------------------------------------

### Ejemplo 2

Cargar el archivo `Tema16_Auxiliar_student_lifestyle_dataset.xlsx` y analiza su informaci칩n. 쯈u칠 c치lculos y conclusiones se podr칤an obtener a partir de su informaci칩n?

> [**Nota:**]{.underline} Recuerda utilizar el enfoque EPS.

### Soluci칩n

```{r}
# Ingresa tu c칩digo aqu칤 游놓
```

------------------------------------------------------------------------

### Ejemplo 3

Cargar el archivo `Tema16_Auxiliar_global_cancer_patients_2015_2024.csv` y analiza su informaci칩n. 쯈u칠 c치lculos y conclusiones se podr칤an obtener a partir de su informaci칩n?

> [**Nota:**]{.underline} Recuerda utilizar el enfoque EPS.

### Soluci칩n

```{r}
# Ingresa tu c칩digo aqu칤 游놓
```

------------------------------------------------------------------------

## Exportar datos

As칤 como es importante importar datos, en ingenier칤a tambi칠n es crucial **exportar resultados, reportes o transformaciones** a archivos que puedan compartirse o integrarse con otros sistemas.

### Archivo con valores separados con comas (.csv)

En **R**, para exportar datos a archivos CSV usamos principalmente la funci칩n `write.csv()`.

``` r
# Sintaxis
write.csv(x = objeto, file = "ruta/archivo.csv", row.names = FALSE)
```

-   **`x`**: El objeto que deseas exportar, normalmente un data frame.

-   **`file`**: La ruta y nombre del archivo CSV de destino.

-   **`row.names`**: Indica si quieres exportar los nombres de fila (`TRUE`) o no (`FALSE`).

```{r}
# Ingresa tu c칩digo aqu칤 游놓
```

Algunas consideraciones importantes son las siguientes:

-   Si `row.names = TRUE` y el objeto no tiene nombres expl칤citos de filas, R agregar치 una columna llamada "row.names".

-   Si no especificas un path completo, el archivo se guardar치 en el **directorio de trabajo actual**.

-   El archivo creado usar치 coma `,` como separador de valores. Si necesitas un formato diferente (por ejemplo punto y coma), se puede usar `write.csv2()`.

### Archivo de texto (.txt)

Al igual que los archivos CSV, los **archivos de texto (.txt)** son un formato sencillo y com칰n para almacenar datos. Sin embargo, los archivos `.txt` son m치s flexibles en cuanto a c칩mo organizar los datos, ya que no tienen una estructura predefinida como el CSV.

Cuando exportamos datos a un archivo `.txt`, el proceso de delimitaci칩n (c칩mo separar los valores) puede ser controlado completamente, utilizando espacios, tabuladores u otros caracteres como delimitadores. Esto es 칰til en casos donde los datos necesitan ser legibles por otros sistemas o humanos, y no requieren una estructura compleja.

En **R**, para exportar datos a archivos de texto utilizamos principalmente la funci칩n `write.table()`, que permite un control detallado sobre el formato del archivo.

``` r
# Sintaxis
write.table(x = objeto, file = "ruta/archivo.txt", sep = " ", row.names = FALSE)
```

-   **`x`**: El objeto que deseas exportar, generalmente un data frame o matriz.

-   **`file`**: La ruta y nombre del archivo de texto de destino.

-   **`sep`**: Especifica el separador de los datos. Puede ser un espacio `" "`, tabulador `"\t"`, coma `","`, o cualquier otro car치cter.

-   **`row.names`**: Indica si quieres exportar los nombres de las filas (`TRUE`) o no (`FALSE`).

```{r}
# Ingresa tu c칩digo aqu칤 游놓
```

Algunas consideraciones importantes son las siguientes:

-   Al exportar con `write.table()`, siempre puedes ajustar el separador con `sep`. Usualmente, se usa el tabulador (`\t`) o espacios, pero tambi칠n puedes usar comas si lo prefieres.

-   Al igual que con `write.csv()`, si no deseas incluir los nombres de fila, debes especificar `row.names = FALSE`. Si no lo haces, se incluir치n autom치ticamente.

-   Si el archivo tiene caracteres especiales o codificaci칩n distinta (por ejemplo, UTF-8), puedes ajustar la codificaci칩n con el argumento `fileEncoding`.

### Archivo Excel (.xlsx)

Al igual que CSV o TXT, **Excel** es uno de los formatos m치s utilizados para compartir, almacenar y trabajar con datos, especialmente en contextos donde se requiere interacci칩n visual o an치lisis avanzado. Los archivos Excel permiten tener m칰ltiples hojas dentro de un solo archivo y ofrecen una estructura mucho m치s flexible que el CSV o TXT, permitiendo tipos de datos m치s complejos, como celdas combinadas, colores o formatos num칠ricos especiales.

Para exportar datos a un archivo Excel en **R**, usamos el paquete **`writexl`** o **`openxlsx`**. El paquete **`writexl`** es m치s sencillo y permite exportar sin necesidad de depender de Excel instalado en el sistema. La funci칩n principal de este paquete es `write_xlsx()`.

``` r
# Instalaci칩n y carga del paquete
install.packages("writexl")
library(writexl)
```

``` r
# Sintaxis
write_xlsx(x = objeto, path = "ruta/archivo.xlsx")
```

-   **`x`**: El objeto que deseas exportar, t칤picamente un data frame.

-   **`path`**: Ruta y nombre del archivo Excel de destino.

```{r}
# Ingresa tu c칩digo aqu칤 游놓
```

Algunas consideraciones importantes son las siguientes:

-   El paquete `writexl` no requiere que tengas Excel instalado, lo cual es 칰til si deseas compartir datos con usuarios que no necesariamente tienen acceso a Excel.

-   Los datos exportados a Excel se almacenan en **.xlsx**, lo que asegura la compatibilidad con las versiones modernas de Excel.

-   Si necesitas m치s control sobre el formato de la hoja, como cambiar estilos de celda, agregar gr치ficos, etc., puedes considerar el uso del paquete `openxlsx`, que es m치s avanzado.

------------------------------------------------------------------------
