---
title: "R para Ingenier칤as y Ciencias"
author: "La Academia"
subtitle: "Tema 14 - Teor칤a"
output:
  html_document:
    df_print: paged
---

## Estructuras de datos: Listas

Una **lista** es una **estructura de datos flexible y heterog칠nea** que puede contener cualquier tipo de objeto: vectores, matrices, data frames, funciones, incluso otras listas.

![Caracter칤sticas de una lista.](https://github.com/aisacc/Programacion-R/blob/main/_Im%C3%A1genes/Tema%2014%20-%20Estructuras%20de%20datos%20-%20Listas/1.png?raw=true){width="722"}

En otras palabras, **una lista es como una caja con compartimientos**, donde cada compartimiento puede tener objetos distintos y de diferentes tama침os o tipos.

**쮺u치ndo usar listas?**

-   Los elementos **no tienen la misma longitud ni el mismo tipo**.

-   Quieres **agrupar informaci칩n diversa** sobre un mismo fen칩meno o entidad.

-   Est치s trabajando con **resultados m칰ltiples** de an치lisis o modelos.

## Crear listas

Crear una lista en **R** significa **agrupar m칰ltiples objetos de distintos tipos y tama침os en un 칰nico contenedor**. Esto es 칰til cuando deseas mantener un conjunto de resultados, configuraciones, datos heterog칠neos o estructuras complejas **dentro de una misma unidad**.

``` r
# Sintaxis 1
nombre_lista <- list(elemento1, elemento2, ..., elementoN)

# Sintaxis 2: Agregar nombre a cada valor
nombre_lista <- list(nombre1 = valor1, nombre2 = valor2)
```

``` r
equipo <- list(
    nombre = "Motor hidr치ulico",
    potencias = c(5.2, 5.8, 6.0),
    operativo = TRUE
)
```

En este caso:

-   `nombre` es texto,

-   `potencias` es un vector num칠rico,

-   `operativo` es un valor l칩gico.

```{r}
# Ingresa tu c칩digo aqu칤 游놓
```

> Crear listas en **R** permite construir estructuras de datos robustas, capaces de albergar m칰ltiples elementos relacionados, aunque completamente distintos. En campos de la ingenier칤a, esto resulta esencial para representar sistemas, reportes, an치lisis o configuraciones completas en una sola entidad organizada.

------------------------------------------------------------------------

## Modificar los nombres de los elementos

En **R**, cuando creas una lista, puedes **asignar nombres** a los elementos de esa lista para acceder a ellos de manera m치s clara y sencilla. Sin embargo, es posible que en alg칰n momento necesites **modificar esos nombres**, ya sea para hacerlos m치s descriptivos, corregir errores o adaptar la estructura a nuevos requerimientos.

``` r
# Sintaxis
names(lista) <- c("nuevo_nombre1", "nuevo_nombre2", ..., "nuevo_nombreN")
```

``` r
mi_lista <- list(10, 20, 30)
names(mi_lista) <- c("valor_1", "valor_2", "valor_3")
mi_lista
```

```{r}
# Ingresa tu c칩digo aqu칤 游놓
```

Si quieres modificar solo algunos de los nombres, puedes acceder a `names()` y **asignar solo los nuevos valores deseados**:

``` r
names(mi_lista)[2] <- "VALOR_2"
mi_lista
```

```{r}
# Ingresa tu c칩digo aqu칤 游놓
```

### Ejemplo

Tienes una lista con valores para distintos **materiales de construcci칩n**: 100 kg de cemento, 80 kg de arena y 50 litros de agua. Crea una lista con esta informaci칩n y asigna los nombres adecuadamente.

> [**Nota:**]{.underline} Recuerda utilizar el enfoque EPS.

### Soluci칩n

```{r}
# Ingresa tu c칩digo aqu칤 游놓
```

------------------------------------------------------------------------

## Concatenar listas

Concatenar listas en R implica **unir dos o m치s listas en una sola**. A diferencia de otros objetos como vectores o matrices, las listas pueden contener **elementos heterog칠neos**, por lo que su combinaci칩n no implica homogenizar tipos de datos, sino **agregar elementos a nivel de estructura**.

``` r
# Sintaxis
lista_concatenada <- c(lista1, lista2)
```

Sin embargo, en realidad esto no combina internamente los contenidos de cada lista, sino que **los agrega como nuevos elementos**.

``` r
lista1 <- list(temp = c(20, 22), zona = "Norte")
lista2 <- list(temp = c(25, 27), zona = "Sur")

lista_concatenada <- c(lista1, lista2)
```

```{r}
# Ingresa tu c칩digo aqu칤 游놓
```

------------------------------------------------------------------------

## Indexar listas

Indexar una lista en **R** se refiere a **acceder a elementos espec칤ficos dentro de la lista** utilizando sus posiciones o nombres. Dado que las listas en **R** pueden contener **elementos heterog칠neos** (es decir, de diferentes tipos de datos), la indexaci칩n te permite obtener de manera eficiente cualquier tipo de contenido almacenado en ellas.

-   Indexaci칩n por 칤ndice num칠rico (posici칩n)

``` r
mi_lista[[1]]       # Accede al primer elemento de la lista
```

-   Indexaci칩n por nombre

``` r
mi_lista$nombre_elemento            # Accede al elemento llamado "nombre_elemento"
mi_lista[["nombre_elemento"]]       # Tambi칠n accede al mismo elemento
```

Se deben tener las siguientes consideraciones:

-   **칈ndices num칠ricos vs. nombres**: Los 칤ndices num칠ricos son 칰tiles cuando no conoces los nombres de los elementos, pero los nombres son preferibles cuando deseas hacer tu c칩digo m치s **legible** y **comprensible**.

-   **Acceso a subcomponentes**: Si una lista contiene matrices o vectores, debes ser **preciso al indexar** y recordar la estructura interna de cada elemento.

-   **Listas vac칤as**: Si accedes a un 칤ndice que no existe, R generar치 un error.

```{r}
# Ingresa tu c칩digo aqu칤 游놓
```

La indexaci칩n mostrada anteriormente, que utilice corchetes dobles `[[]]` se considera **indexaci칩n por contenido**. Es decir, el resultado de la indexaci칩n es el elemento en s칤, con su tipo de dato o estructura de dato: vector, matriz, data frame, factor, lista, etc. **La indexaci칩n con el s칤mbolo `$` siempre realiza la indexaci칩n por contenido.**

No obstante, existe otra indexaci칩n con corchetes simples `[]` la cual se denomina **indexaci칩n por contenedor**. Es decir, el resultado de esta indexaci칩n es un contenedor (otra lista) que contiene al elemento indexado (contenido).

``` r
resultados <- list(motor_A = 85, motor_B = 90, motor_C = 78)
# Indexaci칩n por contenedor
resultados[1]
class(resultados[1])

# Indexaci칩n por contenido
resultados[[1]]
class(resultados[[1]])
```

```{r}
# Ingresa tu c칩digo aqu칤 游놓
```

> La indexaci칩n de listas es una herramienta **fundamental** para acceder y manipular datos complejos en **R**. Ya sea por posici칩n o nombre, o por contenedor o contenido, permite extraer elementos espec칤ficos, modificar datos o realizar an치lisis avanzados dentro de estructuras de datos heterog칠neas, lo que es especialmente 칰til en 치reas como la ingenier칤a.

------------------------------------------------------------------------

### Indexaci칩n de indexaci칩n

Si la lista contiene otros objetos (como vectores o listas internas), puedes indexar **partes espec칤ficas**. A esto se le denomina indexaci칩n de indexaci칩n.

``` r
motores <- list(motor1 = c("A", 90), motor2 = c("B", 85))

# Indexaci칩n de indexaci칩n
motores$motor2[2]
```

Es decir, puedes combinar las indexaciones estudiadas previamente para indexar elementos que sean indexables, como en el ejemplo se indexa el elemento de tipo vector `motor2` que a su vez se indexa su segundo elemento.

```{r}
# Ingresa tu c칩digo aqu칤 游놓
```

Si se te dificulta comprender f치cilmente la aplicaci칩n y uso de la indexaci칩n de indexaci칩n, entonces te recomiendo que indexes por partes. Primero indexa el vector y guarda el resultado en un variable. Luego, con la variable creada, indexa nuevamente el elemento que sea de tu inter칠s.

``` r
motores <- list(motor1 = list("A", 90), motor2 = list("B", 85))

# Indexaci칩n por partes
motor_indexado <- motores$motor2
motor_indexado

rendimiento_motor_indexado <- motor_indexado[2]
rendimiento_motor_indexado
```

Indexar por partes es muy 칰til al inicio. Y si logras comprenderlo con facilidad, la indexaci칩n de indexaci칩n es el siguiente paso para optimizar tu c칩digo.

```{r}
# Ingresa tu c칩digo aqu칤 游놓
```

------------------------------------------------------------------------

## Modificar listas

Una lista en **R** es una estructura flexible que puede almacenar m칰ltiples tipos de datos (vectores, matrices, factores, otras listas, etc.). Modificar una lista implica:

-   Cambiar el contenido de sus elementos.

-   Agregar nuevos elementos.

-   Eliminar elementos.

-   Reemplazar elementos existentes.

Estas operaciones permiten **adaptar estructuras complejas de datos a nuevas necesidades**, muy 칰til en distintos contextos de ingenier칤a.

### Modificar el valor de un elemento existente

``` r
# Sintaxis
## Forma 1
mi_lista[[posicion]] <- nuevo_valor

## Forma 2
mi_lista$nombre_elemento <- nuevo_valor
```

```{r}
# Ingresa tu c칩digo aqu칤 游놓
```

### Agregar un nuevo elemento

``` r
# Sintaxis
## Forma 1
mi_lista[[posicion]] <- nuevo_valor

## Forma 2
mi_lista$nuevo_elemento <- nuevo_valor
```

Se debe tener cuidado con el 칤ndice posicional utilizado en la Forma 1. Si la lista tiene 4 elementos, el 칤ndice a utilizarse ser칤a 5 para que el nuevo elemento se a침ada en esa posici칩n.

```{r}
# Ingresa tu c칩digo aqu칤 游놓
```

### Eliminar un elemento

``` r
# Sintaxis
## Forma 1
mi_lista[[posicion]] <- NULL

## Forma 2
mi_lista$elemento_a_eliminar <- NULL
```

```{r}
# Ingresa tu c칩digo aqu칤 游놓
```

Aplicando todo lo detallado anterior se tiene lo siguiente:

``` r
proyecto <- list(nombre = "Puente", costo = 50000, terminado = FALSE)

# Modificar el costo
proyecto$costo <- 55000

# Agregar un nuevo elemento
proyecto$duracion_meses <- 18

# Eliminar el elemento "terminado"
proyecto$terminado <- NULL
```

```{r}
# Ingresa tu c칩digo aqu칤 游놓
```

### Ejemplo

Est치s gestionando un proyecto de construcci칩n con la siguiente informaci칩n:

-   Nombre del proyecto: Edificio Valverde

-   Porcentaje de avance del proyecto: 70%

-   Presupuesto asignado (en millones de d칩lares): 1.2

Crea una lista que contenga esta informaci칩n. Luego de haberla creado, modifica el porcentaje de avance al 80% y a침ade un nuevo elemento denominado Cantidad de pisos, el cual indica que el edificio tiene 10 pisos.

### Soluci칩n

```{r}
# Ingresa tu c칩digo aqu칤 游놓
```

------------------------------------------------------------------------
